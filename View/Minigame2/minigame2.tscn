[gd_scene load_steps=15 format=3 uid="uid://det7mjel5dohh"]

[ext_resource type="Script" path="res://Minigame2/Background.gd" id="1_byurc"]
[ext_resource type="Script" path="res://Minigame2/minigame2.gd" id="1_wjhoj"]
[ext_resource type="Texture2D" uid="uid://cp3olla0v3mdx" path="res://Minigame2/Img/background-black.png" id="3_j0lcg"]
[ext_resource type="Texture2D" uid="uid://blup8s04ergik" path="res://Minigame1/rocket.png" id="3_jhdig"]
[ext_resource type="Script" path="res://Minigame2/Player.gd" id="4_iemfn"]
[ext_resource type="Script" path="res://Minigame2/Overlay.gd" id="6_ehkd1"]
[ext_resource type="Texture2D" uid="uid://b570jwv50m17d" path="res://Minigame2/Img/pixilart-drawing.png" id="7_pkj05"]
[ext_resource type="Script" path="res://Minigame2/PauseMenu.gd" id="8_t2fnf"]
[ext_resource type="PackedScene" uid="uid://c1jwxw4rf3vfw" path="res://Minigame2/GameOverScreenMinigame2.tscn" id="9_eukno"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_bcre6"]
radius = 0.05
height = 0.19

[sub_resource type="RectangleShape2D" id="RectangleShape2D_alqvg"]
size = Vector2(160, 100)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_unto0"]
size = Vector2(160, 100)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_n81bd"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_331s3"]

[node name="minigame2" type="Node2D"]
script = ExtResource("1_wjhoj")

[node name="Objects" type="Node" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
script = ExtResource("1_byurc")

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(2.08165e-12, 180)

[node name="SpaceBackground" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(160, 90)
scale = Vector2(0.8, 0.45)
texture = ExtResource("3_j0lcg")

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(160, 128)
scale = Vector2(85, 125)
script = ExtResource("4_iemfn")

[node name="Rocket" type="Sprite2D" parent="Player"]
scale = Vector2(0.00323163, 0.00225)
texture = ExtResource("3_jhdig")

[node name="Area2D" type="Area2D" parent="Player" groups=["Player"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Area2D"]
shape = SubResource("CapsuleShape2D_bcre6")

[node name="Minigame2_timer" type="Timer" parent="."]
wait_time = 0.333
autostart = true

[node name="Hud" type="CanvasLayer" parent="."]

[node name="Overlay" type="Control" parent="Hud"]
layout_mode = 3
anchors_preset = 0
offset_right = 320.0
offset_bottom = 180.0
script = ExtResource("6_ehkd1")

[node name="TouchRight" type="TouchScreenButton" parent="Hud/Overlay"]
position = Vector2(240, 130)
shape = SubResource("RectangleShape2D_alqvg")
action = "ui_right"

[node name="TouchLeft" type="TouchScreenButton" parent="Hud/Overlay"]
position = Vector2(80, 130)
shape = SubResource("RectangleShape2D_unto0")
action = "ui_left"

[node name="Score" type="Label" parent="Hud/Overlay"]
layout_mode = 0
offset_left = 16.0
offset_top = 1.0
offset_right = 80.0
offset_bottom = 27.0
text = "Score:"
vertical_alignment = 1

[node name="PauseButton" type="TouchScreenButton" parent="Hud/Overlay"]
position = Vector2(283, 8)
texture_normal = ExtResource("7_pkj05")
action = "pause"

[node name="PauseMenu" type="Control" parent="Hud"]
process_mode = 3
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 320.0
offset_bottom = 180.0
script = ExtResource("8_t2fnf")

[node name="PauseBackround" type="ColorRect" parent="Hud/PauseMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0.352941)

[node name="CenterContainer" type="CenterContainer" parent="Hud/PauseMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Hud/PauseMenu/CenterContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="Label" type="Label" parent="Hud/PauseMenu/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "Paused"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Resume" type="Button" parent="Hud/PauseMenu/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_styles/focus = SubResource("StyleBoxEmpty_n81bd")
text = "Resume Game"

[node name="Exit" type="Button" parent="Hud/PauseMenu/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_styles/focus = SubResource("StyleBoxEmpty_331s3")
text = "Exit"

[node name="PauseTimer" type="Timer" parent="Hud/PauseMenu"]

[node name="Countdown" type="Control" parent="Hud"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PauseBackround" type="ColorRect" parent="Hud/Countdown"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0.352941)

[node name="CountdownLable" type="Label" parent="Hud/Countdown"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
text = "3"
horizontal_alignment = 1
vertical_alignment = 1

[node name="GameOverScreen2" parent="Hud" instance=ExtResource("9_eukno")]
process_mode = 3
visible = false

[connection signal="area_entered" from="Player/Area2D" to="Player" method="_on_area_2d_area_entered"]
[connection signal="timeout" from="Minigame2_timer" to="." method="_on_timer_timeout"]
[connection signal="pressed" from="Hud/PauseMenu/CenterContainer/VBoxContainer/Resume" to="Hud/PauseMenu" method="_on_resume_pressed"]
[connection signal="pressed" from="Hud/PauseMenu/CenterContainer/VBoxContainer/Exit" to="Hud/PauseMenu" method="_on_exit_pressed"]
[connection signal="timeout" from="Hud/PauseMenu/PauseTimer" to="Hud/PauseMenu" method="_on_pause_timer_timeout"]
